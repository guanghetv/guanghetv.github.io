<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>React和JSX入门指导 | 光合新知技术博客</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">React和JSX入门指导</h1><a id="logo" href="/.">光合新知技术博客</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/bookshelf"><i class="fa fa-book"> 书单</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">React和JSX入门指导</h1><div class="post-meta">Dec 31, 2015<span> | </span><span class="category"><a href="/categories/tech/">tech</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2015/12/31/Getting-Started-With-React-And-JSX/" href="/2015/12/31/Getting-Started-With-React-And-JSX/#comments" class="ds-thread-count"></a><div class="post-content"><p>标签：React JSX</p>
<hr>
<p>原文：<a href="http://www.sitepoint.com/getting-started-react-jsx/" target="_blank" rel="external">点我打开</a><br>翻译：<a href="http://www.suisuijiang.com" target="_blank" rel="external">碎碎酱</a><br>注：因为原作者使用的React版本较为落后，本人修改了部分内容使其与现在的最新版本相符合。</p>
<p>React是一个用来构建用户页面的开源库，你可以很容易的用它创建视图，并且可以确保使UI与数据模型保持同步。这篇文章是针对初学者的，包含基础的React和JSX语法。 </p>
<h2 id="开始使用React"><a href="#开始使用React" class="headerlink" title="开始使用React"></a>开始使用React</h2><p>在开始使用之前，首先我们要前往React的<a href="https://facebook.github.io/react/" target="_blank" rel="external">官方网站</a>，下载React Starter Kit(本篇文章使用0.14.5版本)，里面包含着全部你接下来需要用到的库文件和一些官方示例。</p>
<p>如果你下载的是.zip压缩文件，解压它到任意一个目录，你将会看到一个叫做react-x.x.x的目录，在我的机器上是react-0.14.5，打开它并进入build目录，我们将要使用下面两个文件：</p>
<p><code>react.js</code>: React的核心库<br><code>react-dom.js</code>: React渲染库，将React组件渲染为真实DOM</p>
<p>在<code>react-&lt;version&gt;</code>目录创建一个<code>index.html</code>文件，添加下面的代码：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My First React Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    </div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/react.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/react-dom.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span><span class="javascript"></span></div><div class="line">      <span class="keyword">var</span> Greeting = React.createClass(&#123;</div><div class="line">        <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">          <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello, React<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div><div class="line">          )</div><div class="line">        &#125;</div><div class="line">      &#125;);</div><div class="line">      ReactDOM.render(</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">Greeting</span>/&gt;</span></span>,</div><div class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</div><div class="line">      );</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在浏览器中打开它，上面的代码段将会显示<code>Hello, React</code>，你需要记住以下几点：</p>
<ol>
<li><p>React遵循面向对象的思想来开发组件，通常，你会分解你的整个UI为一个组件的集合，在我们的例子中，我们仅仅包含一个叫做Greeting的组件。在React中，你调用<code>React.createClass()</code>来创建一个组件，每一个组件都包含一个<code>render()</code>函数用来返回将要被渲染的HTML标签，在上面的例子中，我们仅仅简单的返回了<code>&lt;p&gt;Hello, React&lt;/p&gt;</code>，它将会在视图上显示。</p>
</li>
<li><p>组件在它被渲染之前不会做任何事情，你需要调用<code>ReactDOM.render()</code>来渲染组件，并将想要被渲染的组件作为第一个参数，该函数的第二个参数是你想要渲染到的HTML元素，在我们的例子中，我们把Greeting组件渲染到了div#app上面。</p>
</li>
<li><p>你可能会想知道<code>&lt;Greeting/&gt;</code>到底是什么，这句代码是JSX（JavaScript XML）语法，它可以使你使用类似HTML的代码来创建DOM节点，并且，是否使用JSX是可选的，但是它具备大量的十分吸引人的特性使你完全没有理由不使用它。</p>
</li>
<li><p>React包含ES6语法，浏览器目前不支持全部ES6语法，我们需要首先将其转化为ES5语法，添加下面的语句：<br><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js&quot;&gt;&lt;/script&gt;</code></p>
</li>
</ol>
<p>这段代码会在<code>&lt;script type=&quot;text/babel&quot;&gt;&lt;/script&gt;</code>标签中查找babel代码，并将其转化为ES5代码。因为React代码需要经过babel转换和JSX转换，这些转换在开发环境时工作的很快，但是当你在生产环境中部署时，需要提前转换你的代码，以便使你的app渲染的更快，我们将会在后面告诉你如何做。</p>
<h2 id="使用props"><a href="#使用props" class="headerlink" title="使用props"></a>使用props</h2><p>React使用单向的数据流，这意味着数据流仅仅只有一个方向：从父组件到子组件通过属性传递，这些属性通过JSX标签的属性传递，在组件内，你可以通过组件的<code>props</code>对象访问传递过来的属性，当属性被更改的时候，React确保你的组件被重新渲染，使你的UI与数据模型保持同步。接下来，我们修改前面的例子使其每1秒显示一个随机的消息，出于精简的代码的考虑，仅仅展示被修改的代码部分：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> Greeting = React.createClass(&#123;</div><div class="line">    <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123; this.props.message &#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">    &#125;);</div><div class="line">    </div><div class="line">    setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> messages = [<span class="string">'Hello, World'</span>, <span class="string">'Hello, React'</span>, <span class="string">'Hello, Suisuijiang'</span>, <span class="string">'Hello, Tom'</span>];</div><div class="line">    <span class="keyword">var</span> randomMessage = messages[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">4</span>)];</div><div class="line">    </div><div class="line">    ReactDOM.render(</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">Greeting</span> <span class="attr">message</span>=<span class="string">&#123;randomMessage&#125;/</span>&gt;</span>,</span></div><div class="line">        document.getElementById('app')</div><div class="line">    );</div><div class="line">    &#125;, 1000);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>上面的代码在数组中随机选择一条消息，每经过1秒就重新渲染一次组件，被选中的消息通过<code>message</code>这个属性传递给组件，你需要将变量放在{}里。在Greeting组件中，我们使用<code>this.props.message</code>来访问传递过来的消息内容。</p>
<p>如果你尝试运行了上面的代码，它将会每经过1秒输出一条随机的消息内容（假设每次都选取到了不同的消息）。</p>
<p>需要记住，被传递过来的props是不可修改的，你只能通过组件的props传递不同的属性值进来，这样可以保持数据流是单向的，并且它使人清楚的知道你的整个应用是如何随数据改变而变化的。</p>
<h2 id="使用state和events"><a href="#使用state和events" class="headerlink" title="使用state和events"></a>使用state和events</h2><p>在React里，每个组件都是良好封装的并且独自维护它自身的状态（如果它是有状态的），一个有状态的组件可以在它的state中存储值，并且可以将这个值通过子组件的props传递到子组件中，这可以保证，只要组件的状态发生了改变，子组件的props就会跟着改变，并且，子组件会随着props的改变而自动的被重新渲染。</p>
<p>为了展示这些概念，我们来修改前面的代码，使其当按钮被点击时显示一条随机的消息，为了实现这些，我们定义两个组件：<br><code>RandomMessage</code>: 产生一条随机消息的父组件<br><code>MessageView</code>: 处理消息显示的子组件</p>
<h3 id="RandomMessage"><a href="#RandomMessage" class="headerlink" title="RandomMessage"></a>RandomMessage</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/babel"</span>&gt;</div><div class="line">    <span class="keyword">var</span> MessageView = React.createClass(&#123;</div><div class="line">    <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123; this.props.message &#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">var</span> RandomMessage = React.createClass(&#123;</div><div class="line">    <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;<span class="attr">message</span>: <span class="string">'Hello, World'</span>&#125;;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">_onClick</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> messages = [<span class="string">'Hello, World'</span>, <span class="string">'Hello, React'</span>, <span class="string">'Hello, Tom'</span>];</div><div class="line">        <span class="keyword">var</span> randomMessage = messages[<span class="built_in">Math</span>.floor((<span class="built_in">Math</span>.random() * <span class="number">3</span>))];</div><div class="line"></div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">message</span>: randomMessage&#125;);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">            <span class="tag">&lt;<span class="name">MessageView</span> <span class="attr">message</span>=<span class="string">&#123;this.state.message&#125;/</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onClick</span>=<span class="string">&#123;this._onClick&#125;</span> <span class="attr">value</span>=<span class="string">"Change Message"</span>/&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">    &#125;);</div><div class="line">    </div><div class="line">    ReactDOM.render(</div><div class="line">    <span class="tag">&lt;<span class="name">RandomMessage</span>/&gt;</span>,</div><div class="line">    document.getElementById('app')</div><div class="line">    );</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>我们的<code>RandomMessage</code>组件在它自身的state中维持一条消息，每一个React组件都包含<code>getInitialState()</code>函数用来设置组件的初始化state数据，在我们的例子中，我们使用<code>Hello, World</code>来初始化消息。</p>
<p>下一步，我们需要显示一个按钮，当它被点击的时候，使用一个新的message值更新state，我们的组件返回下面的HTML标签：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">MessageView</span> <span class="attr">message</span>=<span class="string">&#123;this.state.message&#125;/</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onClick</span>=<span class="string">&#123;this._onClick&#125;</span> <span class="attr">value</span>=<span class="string">"Change Message"</span>/&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>如你所见，<code>RandomMessage</code>组件渲染了另一个组件<code>MessageView</code>和一个按钮，注意，组件state中存储的消息是通过props传递到子组件的，我们给按钮添加了一个点击处理事件<code>this._onClick</code>，组件会处理这个事件。注意驼峰式命名<code>onClick</code>，在HTML中的事件名称都是小写的，比如<code>onclick</code>，但是在JSX中你需要大驼峰式的事件名称。</p>
<p>点击事件处理过程选择了一条随机的消息，并通过调用<code>this.setState()</code>改变组件的state：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">this</span><span class="selector-class">.setState</span>(&#123;<span class="attribute">message</span>:randomMessage&#125;)</div></pre></td></tr></table></figure>
<p><code>setState()</code>是唯一的通知React数据改变的方式，这个函数更新组件当前的state值并重新渲染，被传递过来的props会被重新计算，传递给子组件的props也会改变并且子组件被重新渲染。</p>
<h3 id="MessageView"><a href="#MessageView" class="headerlink" title="MessageView"></a>MessageView</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> MessageView = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;this.props.message&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>这个组件仅仅在UI上显示被传递进来的message属性，你需要知道，它是一个无状态的组件，并且是被有状态的<code>RandomMessage</code>组件渲染。</p>
<p>现在，我们已经创建了必须的组件，是时候渲染顶级组件<code>RandomMessage</code>了，如下面代码所示：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">React.render(</div><div class="line">  &lt;RandomMessage /&gt;,</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</div><div class="line">);</div></pre></td></tr></table></figure>
<p>这就是完整的app，每当你点击按钮时你将会看到一个不同的消息。</p>
<h2 id="分离JSX代码"><a href="#分离JSX代码" class="headerlink" title="分离JSX代码"></a>分离JSX代码</h2><p>至今为止，我们都是在HTML的script标签中写JSX代码，为了使你的app更加结构化，你应该保持每个组件在他们自己的.jsx文件中，因此我们将上面的代码段放到<code>random-message.jsx</code>中，在HTML中使用如下代码引入它：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/jsx"</span> <span class="attr">src</span>=<span class="string">"random-message.jsx"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>因此我们最新的index.html如下所示：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My First React Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/react.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/react-dom.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span> <span class="attr">src</span>=<span class="string">"random-message.jsx"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="预编译JSX"><a href="#预编译JSX" class="headerlink" title="预编译JSX"></a>预编译JSX</h2><p>我在前面提到的，在生产环境中预编译JSX是很好的做法，为了实现这个，你可以安装一个叫做<code>react-tools</code>的node模块（<code>npm install react-tools -g</code>），这个工具可以持续的监视你的JSX文件的变动，并且将它们变异成JavaScript，你可以使用下面的命令：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jsx   <span class="comment">--watch   src/    out/</span></div></pre></td></tr></table></figure>
<h2 id="关于Virtual-DOM"><a href="#关于Virtual-DOM" class="headerlink" title="关于Virtual DOM"></a>关于Virtual DOM</h2><p>React渲染十分快速，因为它使用了叫做virtual DOM的技术，它在内存中维持一个快速更新的DOM树，并且从不会直接操作真实的DOM，一个组件的<code>render()</code>函数调用通知React在当前时间该如何显示DOM。你已经见到了，我们在组件的<code>render()</code>函数返回React组件和HTML标签，但是它们不会产生真实DOM，而仅仅是DOM的描述。React会计算这个DOM描述与内存中的DOM树之间的差异，并用一个最快速的方式去更新真实DOM。</p>
<h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2><p>这篇文章仅仅是React和JSX的一个概述，React还有很多其它的优点，如果你想要查看更多的内容，请前往<a href="https://facebook.github.io/react/" target="_blank" rel="external">React官网</a>。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2015/12/31/Getting-Started-With-React-And-JSX/" data-id="ciwhgqnbg004s83azwv9nmz5u" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/01/01/react-has-won-the-client-side-war/" class="pre">忘记Angular和Ember吧，React早已在前端大战中胜出</a><a href="/2015/12/30/ReactJS-For-Stupid-People/" class="next">React 懒人教程</a></div><div data-thread-key="2015/12/31/Getting-Started-With-React-And-JSX/" data-title="React和JSX入门指导" data-url="http://yoursite.com/2015/12/31/Getting-Started-With-React-And-JSX/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2015/12/31/Getting-Started-With-React-And-JSX/" data-title="React和JSX入门指导" data-url="http://yoursite.com/2015/12/31/Getting-Started-With-React-And-JSX/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/news/">news</a><span class="category-list-count">76</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/">tech</a><span class="category-list-count">35</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/android-nosql-realm-couchbase/" style="font-size: 15px;">android,nosql,realm,couchbase</a> <a href="/tags/CI-Appium/" style="font-size: 15px;">CI,Appium</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/09/2015-12-8-scapy/">scapy与路由轨迹图</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/05/AppiumTestCase-Python/">Appium Test Case-Python篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/27/how-to-use-react-native-navigator/">如何使用react native中的Navigator组件</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/25/jinkens-PitRecords/">Jinkens+踩坑纪录</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/22/jinkens-iOSTest/">Jinkens+iOS测试</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/22/appium-nodeTest/">Appium+nodeJS测试用例编写</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/06/recovering-a-wiredtiger-collection-from-a-corrupt-wt-file/">从损坏的wt文件中恢复出WiredTiger集合</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/13/best-practice-of-config-for-nodejs-projects/">Nodejs项目配置文件最佳实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/16/appium-test/">Appium+Eclipse编写测试用例</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/16/appium-config/">Mac环境下如何配置Appium</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://yangcong345.com/" title="洋葱数学官网" target="_blank">洋葱数学官网</a><ul></ul><a href="https://github.com/guanghetv/" title="Github主页" target="_blank">Github主页</a><ul></ul><a href="https://facebook.github.io/react-native/" title="ReactNative" target="_blank">ReactNative</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">光合新知技术博客.</a> Tech<a rel="nofollow" target="_blank" href="https://hexo.io"></a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"></a> <a rel="nofollow" target="_blank" href="https://github.com/pagecho"></a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'antsun'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>